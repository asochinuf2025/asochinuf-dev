â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  MIGRACIÃ“N NEON â†’ RAILWAY - SCRIPTS CREADOS                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ UBICACIÃ“N DE SCRIPTS:
   backend/scripts/

ğŸ“¦ SCRIPTS DISPONIBLES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1ï¸âƒ£  quick-test.js
    â”œâ”€ PropÃ³sito: Probar conexiÃ³n a ambas BDs
    â”œâ”€ Uso: node scripts/quick-test.js
    â”œâ”€ Tiempo: 5 segundos
    â””â”€ Salida: Muestra si Neon y Railway estÃ¡n conectables

2ï¸âƒ£  init-db-railway.js (EJECUTAR PRIMERO)
    â”œâ”€ PropÃ³sito: Crear esquema en Railway
    â”œâ”€ Uso: node scripts/init-db-railway.js
    â”œâ”€ Tiempo: ~10 segundos
    â””â”€ Salida: 15 tablas + Ã­ndices creados

3ï¸âƒ£  migrate-db.js (EJECUTAR SEGUNDO)
    â”œâ”€ PropÃ³sito: Copiar TODOS los datos de Neon a Railway
    â”œâ”€ Uso: node scripts/migrate-db.js
    â”œâ”€ Tiempo: 1-5 minutos (depende volumen)
    â””â”€ Salida: Detalles de lo que se migrÃ³ (usuarios, pacientes, etc.)

4ï¸âƒ£  validate-migration.js (EJECUTAR TERCERO)
    â”œâ”€ PropÃ³sito: Validar que la migraciÃ³n fue exitosa
    â”œâ”€ Uso: node scripts/validate-migration.js
    â”œâ”€ Tiempo: ~10 segundos
    â””â”€ Salida: ComparaciÃ³n de registros y validaciÃ³n de integridad

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š GUÃAS DISPONIBLES:

1. MIGRATION_README.md (LEER PRIMERO)
   â””â”€ Resumen completo con todos los pasos y detalles

2. MIGRATION_STEPS.md
   â””â”€ Resumen visual rÃ¡pido en 6 pasos

3. backend/scripts/MIGRATION_GUIDE.md
   â””â”€ GuÃ­a detallada con soluciÃ³n de problemas

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ ORDEN DE EJECUCIÃ“N:

   cd backend

   1. node scripts/quick-test.js
      â””â”€ Verificar conexiÃ³n a ambas BDs âœ“

   2. node scripts/init-db-railway.js
      â””â”€ Crear esquema en Railway âœ“

   3. node scripts/migrate-db.js
      â””â”€ Migrar datos âœ“

   4. node scripts/validate-migration.js
      â””â”€ Validar todo estÃ¡ correcto âœ“

   5. Actualizar .env con DATABASE_URL de Railway
      â””â”€ Cambiar a usar Railway en producciÃ³n âœ“

   6. npm run dev
      â””â”€ Probar la aplicaciÃ³n âœ“

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… CHECKLIST PREVIO:

   [ ] Tienes URL de Railway (copiada desde railway.app)
   [ ] Agregaste RAILWAY_DATABASE_URL en backend/.env
   [ ] NODE_ENV estÃ¡ en development o tienes .env en backend/
   [ ] Tienes npm install ejecutado en backend/
   [ ] Neon estÃ¡ funcionando con datos actuales

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š DATOS QUE SE MIGRAN:

   âœ“ t_usuarios        - Todos los usuarios del sistema
   âœ“ t_pacientes       - Todos los pacientes/jugadores
   âœ“ t_clientes        - Relaciones usuario-cliente
   âœ“ t_nutricionistas  - Relaciones usuario-nutricionista
   âœ“ t_cursos          - Todos los cursos
   âœ“ t_inscripciones   - Inscripciones a cursos
   âœ“ t_planteles       - 44 equipos de fÃºtbol
   âœ“ t_categorias      - 12 categorÃ­as (Sub-12, Sub-17, etc.)
   âœ“ t_sesion_mediciones     - Sesiones de mediciones
   âœ“ t_informe_antropometrico - TODAS las mediciones antropomÃ©tricas
   âœ“ t_excel_uploads   - Historial de cargas Excel
   âœ“ t_recovery_tokens - Tokens de recuperaciÃ³n
   âœ“ t_cuotas_mensuales    - Cuotas mensuales globales
   âœ“ t_cuotas_usuario      - AsignaciÃ³n de cuotas a usuarios
   âœ“ t_pagos_cuotas        - Pagos registrados

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš™ï¸  CARACTERISTICAS:

   âœ“ Mantiene integridad referencial
   âœ“ Preserva IDs de secuencias
   âœ“ Copia todos los Ã­ndices
   âœ“ Maneja ON CONFLICT para datos duplicados
   âœ“ Desactiva/reactiva constraints durante migraciÃ³n
   âœ“ ValidaciÃ³n automÃ¡tica de integridad
   âœ“ Mensaje detallado de progreso

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ TIPS:

   â€¢ Ejecuta quick-test.js primero para asegurar conectividad
   â€¢ Si migrate-db.js falla, puedes reintentar (usa ON CONFLICT)
   â€¢ validate-migration.js te dice si algo se perdiÃ³
   â€¢ Los scripts producen output clara para cada tabla
   â€¢ Guardar los logs: node scripts/migrate-db.js > migration.log

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â“ PREGUNTAS FRECUENTES:

   P: Â¿Se pierden datos?
   R: No, todos los datos se copian exactamente

   P: Â¿CuÃ¡nto tiempo toma?
   R: TÃ­picamente 1-5 minutos segÃºn volumen de datos

   P: Â¿Puedo revertir?
   R: SÃ­, tu BD Neon original sigue intacta

   P: Â¿Necesito detener la app?
   R: Recomendado para evitar cambios durante la migraciÃ³n

   P: Â¿QuÃ© si falla a mitad?
   R: Usa ON CONFLICT - puede reintentarse sin duplicar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ SOPORTE:

   Si algo falla:

   1. Lee el error que te muestra el script
   2. Revisa MIGRATION_GUIDE.md en backend/scripts/
   3. Ejecuta quick-test.js para diagnosticar conexiÃ³n
   4. Verifica que .env tiene ambas URLs
   5. Revisa que init-db-railway.js se ejecutÃ³ OK

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ CUANDO TERMINÃ‰S:

   1. validate-migration.js muestra "MIGRACIÃ“N EXITOSA"
   2. .env cambiÃ³ a usar RAILWAY_DATABASE_URL
   3. npm run dev funciona sin errores
   4. AplicaciÃ³n carga datos correctamente

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        Â¡LISTO PARA MIGRAR! ğŸš€                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
